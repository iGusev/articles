PHP –∏–º–µ–µ—Ç –≤—Å–µ–≥–æ –æ–¥–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º. <code>array</code> - —Å–ª–æ–∂–Ω—ã–π, –≥–∏–±–∫–∏–π, –≥–∏–±—Ä–∏–¥–Ω—ã–π, —Å–æ—á–µ—Ç–∞–µ—Ç –≤ —Å–µ–±–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ <code>list</code> –∏ <code>linked map</code>. –ù–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ –¥–ª—è –≤—Å–µ–≥–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ PHP –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è <b>–ø—Ä–∞–≥–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞</b>: –∏–º–µ—Ç—å –ø—Ä–µ–¥–µ–ª—å–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –∑–¥—Ä–∞–≤—ã–π –∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã, –∏—Å—Ö–æ–¥—è—â–∏–π –∏–∑ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö, –∞ –Ω–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π. <code>array</code> –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å —Ä–∞–±–æ—Ç—É, —Ö–æ—Ç—è –æ –Ω–µ–º –∏ —Ç–∞–∫ –º–Ω–æ–≥–æ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –ª–µ–∫—Ü–∏—è—Ö –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ. –ù–æ, –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Å –≥–∏–±–∫–æ—Å—Ç—å—é –ø—Ä–∏—Ö–æ–¥–∏—Ç –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å.

–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–ª–∏–∑ PHP –≤—ã–∑–≤–∞–ª –±–æ–ª—å—à–æ–µ –æ–∂–∏–≤–ª–µ–Ω–∏–µ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ. –ú—ã –Ω–µ –º–æ–≥–ª–∏ –¥–æ–∂–¥–∞—Ç—å—Å—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <a href="http://php.net/manual/en/migration70.new-features.php">–Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</a> –∏ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –≤–∫—É—Å <a href="https://www.reddit.com/r/PHP/comments/3q2brz/how_is_php_7_twice_as_fast/">~2—Ö –ø—Ä–∏—Ä–æ—Å—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</a>. –û–¥–Ω–∞ –∏–∑ –ø—Ä–∏—á–∏–Ω, –ø–æ—á–µ–º—É —ç—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å - <a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html">—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ <code>array</code> –±—ã–ª–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞</a>. –ù–æ –º–∞—Å—Å–∏–≤—ã –≤—Å–µ —Ç–∞–∫–∂–µ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏–Ω—Ü–∏–ø–∞ "–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –≤—Å–µ–≥–æ; –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –Ω–∏—á–µ–≥–æ", –µ—â–µ –Ω–µ –≤—Å–µ –∏–¥–µ–∞–ª—å–Ω–æ, –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏—è.

<blockquote>–ê —á—Ç–æ –Ω–∞—Å—á–µ—Ç <a href="http://php.net/manual/en/spl.datastructures.php">—Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö SPL?</a></blockquote>–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é... –æ–Ω–∏ —É–∂–∞—Å–Ω—ã. –†–∞–Ω—å—à–µ, –¥–æ PHP7, –æ–Ω–∏ –ø—Ä–µ–¥–ª–∞–≥–∞–ª–∏ _–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ_ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞, –Ω–æ —Å–µ–π—á–∞—Å –º—ã –¥–æ—à–ª–∏ –¥–æ —Ç–æ—á–∫–∏, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SPL –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–º—ã—Å–ª–∞.

<blockquote>–ü–æ—á–µ–º—É –º—ã –Ω–µ –º–æ–∂–µ–º –ø—Ä–æ—Å—Ç–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å –∏ —É–ª—É—á—à–∏—Ç—å –∏—Ö?</blockquote>–î–∞, –º—ã –º–æ–≥–ª–∏ –±—ã, –Ω–æ —è —Å—á–∏—Ç–∞—é, —á—Ç–æ –∏—Ö –¥–∏–∑–∞–π–Ω –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç–æ–ª—å–∫–æ –±–µ–¥–Ω—ã, —á—Ç–æ –ª—É—á—à–µ –±—ã –Ω–∞–π—Ç–∏ –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –∑–∞–º–µ–Ω—É.
<blockquote><b><i>"SPL data structures are horribly designed."</i></b>
‚Äî <i>Anthony Ferrara</i>
</blockquote>
<hr/><b>–í–≤–µ–¥–µ–Ω–∏–µ</b>: <code>php-ds</code> - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è PHP7, –¥–æ–±–∞–≤–ª—è—é—â–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ—Ç –ø–æ—Å—Ç –∫—Ä–∞—Ç–∫–æ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–∞–∂–¥–æ–π –∏–∑ –Ω–∏—Ö. –¢–∞–∫–∂–µ –≤ –∫–æ–Ω—Ü–µ –≤—ã –Ω–∞–π–¥–µ—Ç–µ —Å–ø–∏—Å–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ–∂–∏–¥–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã.

<b>Github</b>: <a href="https://github.com/php-ds">https://github.com/php-ds</a>
<b>–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º–µ–Ω:</b> <code>Ds\</code>
<b>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:</b> <code>Collection</code>, <code>Sequence</code>, <code>Hashable</code>
<b>–ö–ª–∞—Å—Å—ã:</b> <code>Vector</code>, <code>Deque</code>, <code>Stack</code>, <code>Queue</code>, <code>PriorityQueue</code>, <code>Map</code>, <code>Set</code>
<cut /><hr/>
<h2>Collection <i>(–ö–æ–ª–ª–µ–∫—Ü–∏—è)</i></h2>
<code>Collection</code> - —ç—Ç–æ –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–π –æ–±—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: <code>foreach</code>, <code>echo</code>, <code>count</code>, <code>print_r</code>, <code>var_dump</code>, <code>serialize</code>, <code>json_encode</code>, –∏ <code>clone</code>.

<h2>Sequence <i>(–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å)</i></h2>
<code>Sequence</code> –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –≤ –µ–¥–∏–Ω—ã–π, –ª–∏–Ω–µ–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä. –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —è–∑—ã–∫–∞—Ö —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞–∑–≤–∞–µ—Ç—Å—è <code>List</code> <i>(—Å–ø–∏—Å–æ–∫)</i>. –ü–æ–¥–æ–±–µ–Ω <code>array</code>, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π:

<ul><li>–ó–Ω–∞—á–µ–Ω–∏—è <b>–≤—Å–µ–≥–¥–∞</b> –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –∫–∞–∫ <code>[0, 1, 2,¬†‚Ä¶, size - 1]</code></li>
<li>–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π</li>
<li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º —Ç–æ–ª—å–∫–æ –∏–∑ –∏–Ω–¥–µ–∫—Å–∞ <code>[0, size - 1]</code></li></ul>
<h4>–í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h4>
<ul>
<li>–í–µ–∑–¥–µ, –≥–¥–µ –≤—ã –±—ã —Ö–æ—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>array</code> –∫–∞–∫ —Å–ø–∏—Å–æ–∫ (–±–µ–∑ –∫–ª—é—á–µ–π)</li>
<li>–ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ <code>SplDoublyLinkedList</code> –∏ <code>SplFixedArray</code></li>
</li></ul>
<h2>Vector <i>(–í–µ–∫—Ç–æ—Ä)</i></h2>
<code>Vector</code> –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π <code>Sequence</code>, –æ–±—ä–µ–¥–∏–Ω—è—é—â—É—é –∑–Ω–∞—á–µ–Ω–∏—è –≤ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –±—É—Ñ–µ—Ä, —É–≤–µ–ª–∏—á–∏–≤–∞—é—â–∏–π—Å—è –∏ —É–º–µ–Ω—å—à–∞—é—â–∏–π—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –≠—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –ø–æ—Å–∫–æ–ª—å–∫—É –∏–Ω–¥–µ–∫—Å —ç–ª–µ–º–µ–Ω—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä—è–º—ã–º –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ–º –µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –≤ –±—É—Ñ–µ—Ä–µ, –∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–∞ –Ω–∏–∫–∞–∫ –Ω–µ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
<video>https://player.vimeo.com/video/154438958</video>
<h4>–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã</h4>
<ul>
<li>–û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏</li>
<li>–û—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏</li>
<li><code>get</code>, <code>set</code>, <code>push</code> –∏ <code>pop</code> –∏–º–µ—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å <code>O(1)</code></li>
</ul>
<h4>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</h4>
<ul>
<li><code>insert</code>, <code>remove</code>, <code>shift</code> and <code>unshift</code> –∏–º–µ—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å <code>O(n)</code></li>
</ul>
<blockquote>–°—Ç—Ä—É–∫—Ç—É—Ä–æ–π –Ω–æ–º–µ—Ä –æ–¥–∏–Ω –≤ Photoshop –±—ã–ª–∏ –í–µ–∫—Ç–æ—Ä–∞.
‚Äî‚Ää<b>Sean Parent</b>, <a href="https://youtu.be/sWgDk-o-6ZE?t=21m52s">CppCon 2015</a>
</blockquote>
<h2>Deque <i>(–î–≤—É—Å–≤—è–∑–Ω–∞—è –æ—á–µ—Ä–µ–¥—å)</i></h2>
<code>Deque</code> (–ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è –∫–∞–∫ "deck") - —ç—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö –≤ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –±—É—Ñ–µ—Ä, —É–≤–µ–ª–∏—á–∏–≤–∞—é—â–∏–π—Å—è –∏ —É–º–µ–Ω—å—à–∞—é—â–∏–π—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ù–∞–∑–≤–∞–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–º —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ–º –æ—Ç <i>"double-ended queue"</i>. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ <code>Ds\Queue</code>.

–î–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≥–æ–ª–æ–≤—ã –∏ —Ö–≤–æ—Å—Ç–∞. –ù–∞–ª–∏—á–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –∫–æ–Ω–µ—Ü –∏ –Ω–∞—á–∞–ª–æ –±—É—Ñ–µ—Ä–∞ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –º–µ—Å—Ç–∞. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç <code>shift</code> –∏ <code>unshift</code> –Ω–∞—Å—Ç–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä—ã–º, —á—Ç–æ –¥–∞–∂–µ <code>Vector</code> –Ω–µ –º–æ–∂–µ—Ç –∫–æ–Ω–∫—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —ç—Ç–∏–º.

–î–æ—Å—Ç—É–ø –∫ –∑–Ω–∞—á–µ–Ω–∏—é –ø–æ –∏–Ω–¥–µ–∫—Å—É —Ç—Ä–µ–±—É–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ –≤ –±—É—Ñ–µ—Ä–µ: <code>((head + position) % capacity)</code>.
<video>https://player.vimeo.com/video/154438012</video>
<h4>–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã</h4>
<ul>
<li>–û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏</li>
<li><code>get</code>, <code>set</code>, <code>push</code>, <code>pop</code>, <code>shift</code> –∏ <code>unshift</code> –∏–º–µ—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å <code>O(1)</code></li>
</ul>
<h4>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</h4>
<ul>
<li><code>insert</code>, <code>remove</code> –∏–º–µ—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å <code>O(n)</code></li>
<li>–ï–º–∫–æ—Å—Ç—å –±—É—Ñ–µ—Ä–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —Å—Ç–µ–ø–µ–Ω—å –¥–≤–æ–π–∫–∏ (<code>2‚Åø</code>)</li>
</ul>
–°–ª–µ–¥—É—é—â–∏–π –±–µ–Ω—á–º–∞—Ä–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—â–µ–µ –∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∏ –ø–∞–º—è—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏ <code>push</code> 2‚Åø —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª. <code>array</code>, <code>Ds\Vector</code> –∏ <code>Ds\Deque</code> –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –±—ã—Å—Ç—Ä–æ, –Ω–æ <code>SplDoublyLinkedList</code> —Å—Ç–∞–±–∏–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç <b>–±–æ–ª–µ–µ —á–µ–º –≤ 2 —Ä–∞–∑–∞ —Ö—É–∂–µ</b>.

<code>SplDoublyLinkedList</code> –≤—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏, –ø–æ—ç—Ç–æ–º—É –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–æ—Å—Ç –ø–æ –ø–∞–º—è—Ç–∏. <code>array</code> –∏ <code>Ds\Deque</code> –ø—Ä–∏ —Å–≤–æ–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–¥–µ–ª—è—é—Ç –ø–∞–º—è—Ç—å –ø–æ—Ä—Ü–∏–æ–Ω–Ω–æ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ –æ–±—ä–µ–º–∞ –¥–ª—è 2‚Åø —ç–ª–µ–º–µ–Ω—Ç–æ–≤. <code>Ds\Vector</code> –∏–º–µ–µ—Ç —Ñ–∞–∫—Ç–æ—Ä —Ä–æ—Å—Ç–∞ 1.5, —á—Ç–æ –≤–ª–µ—á–µ—Ç –∑–∞ —Å–æ–±–æ–π —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–¥–µ–ª–µ–Ω–∏–π –ø–∞–º—è—Ç–∏, –Ω–æ –º–µ–Ω—å—à–∏–π —Ä–∞—Å—Ö–æ–¥ –≤ —Ü–µ–ª–æ–º.
<img src="https://habrastorage.org/files/2ba/dcd/509/2badcd509c714317be94608dc14e3756.gif"/>
<img src="https://habrastorage.org/files/1d6/1b5/5a0/1d61b55a0b5745ed9ced6bd6de23cca8.gif"/>
–°–ª–µ–¥—É—é—â–∏–π –±–µ–Ω—á–º–∞—Ä–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è, –∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –Ω–∞ <code>unshift</code> <b>–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞</b> –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏–π —Ä–∞–∑–º–µ—Ä–æ–º 2‚Åø. –í—Ä–µ–º—è, —Ç—Ä–µ–±—É—é—â–µ–µ—Å—è –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–Ω–∞—á–µ–Ω–∏–π –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è.

–ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ –≤–∏–¥–Ω–æ, —á—Ç–æ <code>array_unshift</code> –∏–º–µ–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å <code>O(n)</code>: –≤—Å—è–∫–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –æ–±—ä–µ–º –≤—ã–±–æ—Ä–∫–∏ —É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è, —Ä–∞—Å—Ç–µ—Ç –∏ –≤—Ä–µ–º—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è <code>unshift</code>. –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Ç–µ–º, —á—Ç–æ –∫–∞–∂–¥—ã–π —á–∏—Å–ª–æ–≤–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ <code>[1, size - 1]</code> –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω.
<img src="https://habrastorage.org/files/196/721/612/1967216121354a8a80018e7ffe0f4dd1.gif"/>
–ù–æ –∏ <code>Ds\Vector::unshift</code> —Ç–∞–∫–∂–µ <code>O(n)</code>, —Ç–∞–∫ –ø–æ—á–µ–º—É –∂–µ –æ–Ω –Ω–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ? –ò–º–µ–π—Ç–µ –≤–≤–∏–¥—É, —á—Ç–æ <code>array</code> —Ö—Ä–∞–Ω–∏—Ç –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ <code>bucket</code> –≤–º–µ—Å—Ç–µ —Å –µ–≥–æ –∫–ª—é—á–µ–º –∏ —Ö—ç—à–µ–º. –ü–æ—ç—Ç–æ–º—É –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ö—ç—à, –µ—Å–ª–∏ –∏–Ω–¥–µ–∫—Å —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–≤—ã–º. –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ <code>array_unshift</code> –≤—ã–¥–µ–ª—è–µ—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –¥–ª—è —ç—Ç–æ–≥–æ –∏ –∑–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ä—ã–π, –∫–æ–≥–¥–∞ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã.

–í –≤–µ–∫—Ç–æ—Ä–µ –∂–µ –∏–Ω–¥–µ–∫—Å –∑–Ω–∞—á–µ–Ω–∏—è - —ç—Ç–æ –ø—Ä—è–º–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –≤ –±—É—Ñ–µ—Ä–µ, –ø–æ—ç—Ç–æ–º—É –≤—Å–µ, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å - —Å–¥–≤–∏–Ω—É—Ç—å –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [1, size - 1] –≤–ø—Ä–∞–≤–æ –Ω–∞ –æ–¥–Ω—É –ø–æ–∑–∏—Ü–∏—é. –î–µ–ª–∞–µ—Ç—Å—è —ç—Ç–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≤—Å–µ–≥–æ –æ–¥–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ <code>memmove</code>.

<code>Ds\Deque</code> –∏ <code>SplDoublyLinkedList</code> –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞ –≤—Ä–µ–º—è –¥–ª—è <code>unshift</code> –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –≤–ª–∏—è–µ—Ç —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏, —Ç.–µ. –µ–≥–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç <code>O(1)</code>.

–ù–∞ —Å–ª–µ–¥—É—é—â–µ–º —Ç–µ—Å—Ç–µ –≤–∏–¥–Ω–æ —Å–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ 2‚Åø <code>pop</code> –æ–ø–µ—Ä–∞—Ü–∏–π. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ—Ç 2‚Åø –¥–æ –Ω—É–ª—è

–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Ç—É—Ç —Ç–æ, —á—Ç–æ <code>array</code> –≤—Å–µ–≥–¥–∞ –¥–µ—Ä–∂–∏—Ç –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é –ø–∞–º—è—Ç—å, –¥–∞–∂–µ –µ—Å–ª–∏ –µ–≥–æ —Ä–∞–∑–º–µ—Ä —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è. <code>Ds\Vector</code> and <code>Ds\Deque</code> –ø–æ–∑–≤–æ–ª—è—é—Ç –≤ –¥–≤–∞ —Ä–∞–∑–∞ —É–º–µ–Ω—å—à–∏—Ç—å –≤—ã–¥–µ–ª—è–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã, –µ—Å–ª–∏ –∏—Ö —Ä–∞–∑–º–µ—Ä –ø–∞–¥–∞–µ—Ç –Ω–∏–∂–µ —á–µ—Ç–≤–µ—Ä—Ç–∏ —Å–≤–æ–µ–≥–æ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞. <code>SplDoublyLinkedList</code> –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–∞–º—è—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –≤—ã–±–æ—Ä–∫–∏, –ø–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –Ω–∞–±–ª—é–¥–∞—Ç—å –ª–∏–Ω–µ–π–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ.
<img src="https://habrastorage.org/files/368/17e/ec9/36817eec937046e3a12ae8b9c5d2ecad.gif"/>
<h2>Stack <i>(–°—Ç–µ–∫)</i></h2>
<a href="https://ru.wikipedia.org/wiki/%D0%A1%D1%82%D0%B5%D0%BA">–°—Ç–µ–∫</a> - —è–≤–ª—è–µ—Ç—Å—è –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ–π –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É <i>"–ø–æ—Å–ª–µ–¥–Ω–∏–º –ø—Ä–∏—à—ë–ª ‚Äî –ø–µ—Ä–≤—ã–º –≤—ã—à–µ–ª"</i> –∏–ª–∏ <i>"LIFO" (last in ‚Äî first out)</i>, –ø–æ–∑–≤–æ–ª—è—é—â–µ–π –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ –∑–Ω–∞—á–µ–Ω–∏—é –Ω–∞ –≤–µ—Ä—à–∏–Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –í—ã –º–æ–∂–µ—Ç–µ –¥—É–º–∞—Ç—å –æ –Ω–µ–º –∫–∞–∫ –æ–± <a href="https://upload.wikimedia.org/wikipedia/commons/6/6c/Single_row_box_magazine.svg">–æ—Ä—É–∂–µ–π–Ω–æ–º –º–∞–≥–∞–∑–∏–Ω–µ</a> —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –µ–º–∫–æ—Å—Ç—å—é.

<code>Ds\Stack</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è <code>Ds\Vector</code>.

<code>SplStack</code> –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç SplDoublyLinkedList, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é <code>Ds\Vector</code> to <code>SplDoublyLinkedList</code> –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ç–µ—Å—Ç–æ–≤. –ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –≤—Ä–µ–º—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è 2‚Åø <code>pop</code>-–æ–ø–µ—Ä–∞—Ü–∏–π, –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ—Ç 2‚Åø –¥–æ –Ω—É–ª—è.
<img src="https://habrastorage.org/files/949/501/6ea/9495016ea23647cbb0907c275e97e337.gif"/>
<h2>Queue <i>(–û—á–µ—Ä–µ–¥—å)</i></h2>
<a href="https://ru.wikipedia.org/wiki/–û—á–µ—Ä–µ–¥—å_(–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ)">–û—á–µ—Ä–µ–¥—å</a> - —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö —Å –ø–∞—Ä–∞–¥–∏–≥–º–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º <i>"–ø–µ—Ä–≤—ã–π –ø—Ä–∏—à–µ–ª ‚Äî –ø–µ—Ä–≤—ã–π –≤—ã—à–µ–ª"</i> <i>("FIFO", "First In ‚Äî First Out")</i>. –¢–∞–∫–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö –¥–æ–±–∞–≤–ª–µ–Ω–∏—è. –ï–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ–≤–æ—Ä–∏—Ç —Å–∞–º–æ –∑–∞ —Å–µ–±—è, –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–µ–±–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞–∫ –ª–∏–Ω–∏—é –ª—é–¥–µ–π, —Å—Ç–æ—è—â–∏—Ö –≤ –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ –∫–∞—Å—Å—É –≤ –º–∞–≥–∞–∑–∏–Ω–µ.

<code>Ds\Queue</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è <code>Ds\Deque</code>. <code>SplQueue</code> –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç <code>SplDoublyLinkedList</code>, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é <code>Ds\Deque</code> —Å <code>SplDoublyLinkedList</code>, –ø–æ–∫–∞–∑–∞–Ω–Ω–æ–º—É –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –±–µ–Ω—á–º–∞—Ä–∫–µ.

<h2>PriorityQueue <i>(–û—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º)</i></h2>
–û—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–∞ –Ω–∞ –ø—Ä–æ—Å—Ç—É—é –æ—á–µ—Ä–µ–¥—å. –≠–ª–µ–º–µ–Ω—Ç—ã –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Å –Ω–∞–∏–≤—ã—Å—à–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –≤ –ø–µ—Ä–µ–¥–Ω–µ–π —á–∞—Å—Ç–∏. –ü—Ä—è–º–æ–π –ø–µ—Ä–µ–±–æ—Ä –æ—á–µ—Ä–µ–¥–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –æ—á–µ–Ω—å –¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–µ–Ω, —ç—Ç–æ –±—É–¥–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π <code>pop</code>, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –æ—á–µ–Ω—å –∑–∞—Ç—Ä–∞—Ç–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π.

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—á–µ—Ä–µ–¥–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <i>max-heap</i>.

–ü—Ä–∏–Ω—Ü–∏–ø <i>"–ø–µ—Ä–≤—ã–π –ø—Ä–∏—à–µ–ª ‚Äî –ø–µ—Ä–≤—ã–π –≤—ã—à–µ–ª"</i> —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º, —Ç–∞–∫ —á—Ç–æ –≥—Ä—É–ø–ø–∞ –∑–Ω–∞—á–µ–Ω–∏–π —Å —Ä–∞–≤–Ω—ã–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω—É—é –æ—á–µ—Ä–µ–¥—å.

–ê —á—Ç–æ –∂–µ —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é? –°–ª–µ–¥—É—é—â–∏–π –±–µ–Ω—á–º–∞—Ä–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è –∏ –ø–∞–º—è—Ç—å, —Ç—Ä–µ–±—É—é—â–∏–µ—Å—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏ <code>push</code> 2‚Åø —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –≤ –æ—á–µ—Ä–µ–¥—å. –¢–µ –∂–µ —Å–ª—É—á–∞–π–Ω—ã–µ —á–∏—Å–ª–∞ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ —Ç–µ—Å—Ç–æ–≤. –í —Ç–µ—Å—Ç–µ –¥–ª—è <code>Queue</code> —Ç–∞–∫–∂–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —Ö–æ—Ç—è –æ–Ω –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

–≠—Ç–æ, –Ω–∞–≤–µ—Ä–Ω–æ–µ, —Å–∞–º—ã–π –∑–Ω–∞—á–∏–º—ã–π –∏–∑ –≤—Å–µ—Ö –±–µ–Ω—á–º–∞—Ä–∫–æ–≤. <code>Ds\PriorityQueue</code> —Ä–∞–±–æ—Ç–∞–µ—Ç <b>–±–æ–ª–µ–µ —á–µ–º –≤ –¥–≤–∞ —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ</b> —á–µ–º <code>SplPriorityQueue</code> –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ <b>5%</b> –æ—Ç –µ–≥–æ –ø–∞–º—è—Ç–∏ - —ç—Ç–æ –≤ <b>20 —Ä–∞–∑ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø–æ –ø–∞–º—è—Ç–∏</b>.

–ù–æ –∫–∞–∫? –ö–∞–∫ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å—Å—è –Ω–∞—Å—Ç–æ–ª—å–∫–æ –±–æ–ª—å—à–∞—è —Ä–∞–∑–Ω–∏—Ü–∞, –∫–æ–≥–¥–∞ <code>SplPriorityQueue</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É? –í—Å–µ —Å–≤–æ–¥–∏—Ç—Å—è –∫ —Ç–æ–º—É, –∫–∞–∫ —Ö—Ä–∞–Ω—è—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–∞—Ä–µ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º. <code>SplPriorityQueue</code> –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç–æ–º—É, —á—Ç–æ –≤ –∫–∞–∂–¥–æ–π –ø–∞—Ä–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–Ω–∏–º–∞–µ—Ç <b>32 –±–∞–π—Ç–∞</b>.

<code>Ds\PriorityQueue</code> –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã, –ø–æ—ç—Ç–æ–º—É –∫–∞–∂–¥–æ–π –ø–∞—Ä–µ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è <b>24 –±–∞–π—Ç–∞</b>. –ù–æ —ç—Ç–æ –≤—Å–µ –µ—â–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –¥–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

–ï—Å–ª–∏ –≤—ã –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ <a href="http://lxr.php.net/xref/PHP_7_0/ext/spl/spl_heap.c#629">–∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ <code>SplPriorityQueue::insert</code></a>, —Ç–æ –∑–∞–º–µ—Ç–∏—Ç–µ, —á—Ç–æ –æ–Ω <b>–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤</b> –¥–ª—è <b>—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–µ-–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç</b>.

–¢.–∫. –º–∞—Å—Å–∏–≤ –∏–º–µ–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –µ–º–∫–æ—Å—Ç—å 8, —Ç–æ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è <code>zval + HashTable + 8 * (Bucket + hash) + 2 * zend_string + (8 + 16) byte string payloads</code> <i>=</i> <code>16 + 56 + 36 * 8 + 2 * 24 + 8 + 16</code> <i>=</i> <i><b>432 –±–∞–π—Ç–∞</b></i> (64 –±–∏—Ç).

<h4>"–¢–∞–∫‚Ä¶ –ø–æ—á–µ–º—É –∂–µ –º–∞—Å—Å–∏–≤?"</h4>
<code>SplPriorityQueue</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É <code>SplMaxHeap</code>, –∫–æ—Ç–æ—Ä–∞—è —Ç—Ä–µ–±—É–µ—Ç –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –±—ã—Ç—å —Ç–∏–ø–æ–º <code>zval</code>. –û—á–µ–≤–∏–¥–Ω—ã–π (–Ω–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π) —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è <code>zval</code>-–ø–∞—Ä—ã, —Ç.–∫. <code>zval</code> —Å–∞–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ <code>array</code>.
<img src="https://habrastorage.org/files/919/64d/c52/91964dc52a0f4de4b17e034efc27a363.gif"/>
<img src="https://habrastorage.org/files/e1c/76b/bde/e1c76bbde06341c8966449e94c918723.gif"/>
<h2>Hashable</h2>
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –æ–±—ä–µ–∫—Ç–∞–º <b>–±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π</b>. –≠—Ç–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ <code>spl_object_hash</code>, –∫–æ—Ç–æ—Ä—ã–π –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç –≤ —Ö—ç—à, –±–∞–∑–∏—Ä—É—é—â–∏–π—Å—è –Ω–∞ –µ–≥–æ <code>handle:</code>. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ —Å—á–∏—Ç–∞–ª–∏—Å—å –±—ã —Ä–∞–≤–Ω—ã–º–∏ –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏, –Ω–µ –∏–º–µ–ª–∏ –±—ã —Ä–∞–≤–Ω—ã–π —Ö—ç—à, —Ç.–∫. –æ–Ω–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º.

<code>Hashable</code> –≤–≤–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –¥–≤–∞ –º–µ—Ç–æ–¥–∞: <code>hash</code> –∏ <code>equals</code>. –ú–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —ç—Ç–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ: –≤ Java - <code>hashCode</code> –∏ <code>equals</code>, –∏–ª–∏ –≤ Python <code>___hash___</code> –∏ <code>__eq__</code>. –ë—ã–ª–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ RFC, –¥–æ–±–∞–≤–ª—è—é—â–∏—Ö –ø–æ–¥–æ–±–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –≤ PHP, –Ω–æ –Ω–∏ –æ–¥–∏–Ω –∏–∑ –Ω–µ –±—ã–ª –ø—Ä–∏–Ω—è—Ç.

–í—Å–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å <code>spl_object_hash</code>, –µ—Å–ª–∏ –∫–ª—é—á–∏ –æ–±—ä–µ–∫—Ç–æ–≤, —Ö—Ä–∞–Ω—è—â–∏–µ—Å—è –≤ –Ω–∏—Ö –Ω–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç –≤ —Å–µ–±–µ <code>Hashable</code>.

–°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º <code>Hashable</code>: <code>Map</code> –∏ <code>Set</code>.

<h2>Map <i>(–ê—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–π –º–∞—Å—Å–∏–≤)</i></h2>
<code>Map</code> —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ–π <code>array</code> –≤ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ. <b>–ö–ª—é—á–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ª—é–±–æ–≥–æ —Ç–∏–ø–∞</b>, –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ - —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å. –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–ª—é—á–∞ –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–º–µ–Ω—è—é—Ç—Å—è.

–ö–∞–∫ –∏ –≤ <code>array</code>, –ø–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.

<h4>–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã</h4>
<ul>
<li>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ <b>–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã</b> <code>array</code></li>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —É–º–µ–Ω—å—à–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞</li>
<li>–ö–ª—é—á–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –ª—é–±–æ–≥–æ —Ç–∏–ø–∞, –≤–∫–ª—é—á–∞—è –æ–±—ä–µ–∫—Ç—ã</li>
<li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –æ–±—ä–µ–∫—Ç–∞–º–∏, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å <code>Hashable</code></li>
<li><code>put</code>, <code>get</code>, <code>remove</code> –∏ <code>containsKey</code> –∏–º–µ—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å <code>O(1)</code></li>
</ul>
<h4>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</h4>
<ul>
<li>–ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –≤ <code>array</code> –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∫–ª—é—á–µ–π-–æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º –ø–æ –∏–Ω–¥–µ–∫—Å—É (–ø–æ–∑–∏—Ü–∏–∏)</li>
</ul>
–°–ª–µ–¥—É—é—â–∏–π –±–µ–Ω—á–º–∞—Ä–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ –ø–∞–º—è—Ç–∏ –º–µ–∂–¥—É <code>array</code> –∏ <code>Ds\Map</code> –∏–¥–µ–Ω—Ç–∏—á–Ω—ã. –û–¥–Ω–∞–∫–æ, <code>array</code> –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –¥–µ—Ä–∂–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é –ø–∞–º—è—Ç—å, –∫–æ–≥–¥–∞ <code>Ds\Map</code>, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –æ—Å–≤–æ–±–æ–¥–∏—Ç –ø–∞–º—è—Ç—å –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∏–∂–µ —á–µ—Ç–≤–µ—Ä—Ç–∏ —Å–≤–æ–µ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞.
<img src="https://habrastorage.org/files/90f/7b8/bca/90f7b8bca4014552bc5cc22f069f0ce4.gif"/>
<img src="https://habrastorage.org/files/114/3a8/3fd/1143a83fd94946f09d02afb4299db7dc.gif"/>
<h2>Set <i>(–ú–Ω–æ–∂–µ—Å—Ç–≤–æ)</i></h2>
<code>Set</code> - –∫–æ–ª–ª–µ–∫—Ü–∏—è <b>—É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π</b>. –£—á–µ–±–Ω–∏–∫–∏ —Å–∫–∞–∂—É—Ç –≤–∞–º, —á—Ç–æ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ <code>Set</code> –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã, –µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∏–Ω–æ–µ. –í–æ–∑—å–º–µ–º –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ Java, <code>java.util.Set</code> - —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –¥–≤—É–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏: <code>HashSet</code> –∏ <code>TreeSet</code>. <code>HashSet</code> –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å <code>O(1)</code> –¥–ª—è <code>add</code> –∏ <code>remove</code>, a <code>TreeSet</code> –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –Ω–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å <code>add</code> –∏ <code>remove</code> –≤–æ–∑—Ä–∞—Å—Ç–∞–µ—Ç –¥–æ <code>O(log n)</code>.

<code>Set</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, —á—Ç–æ –∏ <code>Map</code>, —Ç–∞–∫–∂–µ –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ <code>array</code>. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ <code>Set</code> –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∑–∞ –≤—Ä–µ–º—è <code>O(n * log(n))</code> –∫–æ–≥–¥–∞ —ç—Ç–æ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è, –≤ –æ—Å—Ç–∞–ª—å–Ω–æ–º –æ–Ω —Ç–∞–∫–æ–π –∂–µ –ø—Ä–æ—Å—Ç–æ–π –∫–∞–∫ <code>Map</code> –∏ <code>array</code>.
<video>https://player.vimeo.com/video/154441519</video>
<h4>–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã</h4>
<ul>
<li><code>add</code>, <code>remove</code> –∏ <code>contains</code> –∏–º–µ—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å <code>O(1)</code></li>
<li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –æ–±—ä–µ–∫—Ç–∞–º–∏, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å <code>Hashable</code></li>
<li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç <b>–ª—é–±–æ–π —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏–π</b> (<code>SplObjectStorage</code> –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã).</li>
<li>–ò–º–µ–µ—Ç —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç –ø–æ—Ä–∞–∑—Ä—è–¥–Ω—ã—Ö –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (<code>intersection</code>, <code>difference</code>, <code>union</code>, <code>exclusive or</code>)</li>
</ul>
<h4>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</h4>
<ul>
<li>–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç <code>push</code>, <code>pop</code>, <code>insert</code>, <code>shift</code> –∏–ª–∏ <code>unshift</code></li>
<li><code>get</code> –∏–º–µ–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å <code>O(n)</code> –µ—Å–ª–∏ –µ—Å—Ç—å —É–¥–∞–ª–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏, –≤ –∏–Ω–æ–º —Å–ª—É—á–∞–µ - <code>O(1)</code></li>
</ul>
–°–ª–µ–¥—É—é—â–∏–π –±–µ–Ω—á–º–∞—Ä–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è, –∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ 2‚Åø –Ω–æ–≤—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ <code>stdClass</code>. –û–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ <code>Ds\Set</code> <b>–Ω–µ–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ</b>, —á–µ–º <code>SplObjectStorage</code>, –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <b>–ø—Ä–∏–º–µ—Ä–Ω–æ –≤ –ø–æ–ª–æ–≤–∏–Ω—É –º–µ–Ω—å—à–µ</b> –ø–∞–º—è—Ç–∏.
<img src="https://habrastorage.org/files/7a8/47b/83e/7a847b83efb341d38831d423cbbefd87.gif"/>
<img src="https://habrastorage.org/files/3bc/ff9/3c7/3bcff93c73524f78ad59d0149dc91b68.gif"/>
–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Å—Å–∏–≤–∞ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —è–≤–ª—è–µ—Ç—Å—è <code>array_unique</code>, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π <code>array</code>, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è. –ù–æ –≤–∞–∂–Ω–æ –∏–º–µ—Ç—å –≤–≤–∏–¥—É, —á—Ç–æ <b>–∑–Ω–∞—á–µ–Ω–∏—è –≤ –º–∞—Å—Å–∏–≤–µ –Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è</b>, <code>in_array</code> —è–≤–ª—è–µ—Ç—Å—è –ª–∏–Ω–µ–π–Ω—ã–º –ø–æ–∏—Å–∫–æ–º —Å–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å <code>O(n)</code>. <code>array_unique</code> —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏, –±–µ–∑ —É—á–µ—Ç–∞ –∫–ª—é—á–µ–π, –∫–∞–∂–¥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–∞ - –ª–∏–Ω–µ–π–Ω—ã–π –ø–æ–∏—Å–∫, —á—Ç–æ –¥–∞–µ–º –Ω–∞–º –≤ —Å—É–º–º–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å <code>O(n¬≤)</code> –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ <code>O(n)</code> –ø–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é –ø–∞–º—è—Ç–∏.
<img src="https://habrastorage.org/files/0fa/3de/a2d/0fa3dea2d045418b88fc30060b186764.gif"/>
<h2>–û—Ç–≤–µ—Ç—ã –Ω–∞ –æ–∂–∏–¥–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –º–Ω–µ–Ω–∏—è</h2>
<h4>–ï—Å—Ç—å –ª–∏ —Ç–µ—Å—Ç—ã?</h4>
–°–µ–π—á–∞—Å –æ–∫–æ–ª–æ <b>2600 —Ç–µ—Å—Ç–æ–≤</b>. –í–ø–æ–ª–Ω–µ –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã —è–≤–ª—è—é—Ç—Å—è –∏–∑–±—ã—Ç–æ—á–Ω—ã–º–∏, –Ω–æ —è –ø—Ä–µ–¥–ø–æ—á–µ–ª –±—ã –∫–æ—Å–≤–µ–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –≤–µ—â—å –¥–≤–∞–∂–¥—ã, —á–µ–º –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–≤—Å–µ–º.

<h4>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è? –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ API?</h4>
–ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏ –ø–æ–∫–∞ –µ—â–µ –Ω–µ—Ç –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –Ω–æ –æ–Ω–∞ –ø–æ—è–≤–∏—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –ø–µ—Ä–≤—ã–º —Å—Ç–∞–±–∏–ª—å–Ω—ã–º —Ä–µ–ª–∏–∑–æ–º.

–û–¥–Ω–∞–∫–æ, —Å—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ <a href="https://github.com/php-ds/ds/tree/master/php/include"><b>—Ö–æ—Ä–æ—à–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã-–∑–∞–≥–ª—É—à–∫–∏</b></a>.

<h4>–ú–æ–∂–µ–º –ª–∏ –º—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã –±–µ–Ω—á–º–∞—Ä–∫–∏? –ï—Å—Ç—å —á—Ç–æ-—Ç–æ –æ –Ω–∏—Ö?</h4>
–í—Å–µ –±–µ–Ω—á–º–∞—Ä–∫–∏ –ø—Ä–æ–≥–æ–Ω—è–ª–∏—Å—å –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –±–∏–ª–¥–µ <code>PHP 7.0.3</code> –Ω–∞ <b>2015 Macbook Pro</b>. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ä—Å–∏–∏ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

<h4>–ü–æ—á–µ–º—É <code>Stack</code>, <code>Queue</code>, <code>Set</code> –∏ <code>Map</code> - –Ω–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã?</h4>
–Ø –Ω–µ –≤–µ—Ä—é, —á—Ç–æ –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –∫–∞–∫–æ–π-–ª–∏–±–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. 3 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ 7 –∫–ª–∞—Å—Å–æ–≤ - —ç—Ç–æ —Ö–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–∞–≥–º–∞—Ç–∏–∑–º–æ–º –∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π.

<h4>–ö–æ–≥–¥–∞ –º–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>Deque</code> –≤–º–µ—Å—Ç–æ <code>Vector</code>?</h4>
–ï—Å–ª–∏ –≤—ã <b>—Ç–æ—á–Ω–æ</b> –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ –Ω–µ –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>shift</code> –∏ <code>unshift</code>, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>Vector</code>. –î–ª—è —É–¥–æ–±–Ω–æ–≥–æ —Ç–∞–π–ø—Ö–∏–Ω—Ç–∏–Ω–≥–∞ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ç–∏–ø–∞ <code>Sequence</code>.

<h4>–ü–æ—á–µ–º—É –≤—Å–µ –∫–ª–∞—Å—Å—ã —è–≤–ª—è—é—Ç—Å—è —Ñ–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏?</h4>
–î–∏–∑–∞–π–Ω API <code>php-ds</code> –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø–∞—Ä–∞–¥–∏–≥–º—É <a href="https://en.wikipedia.org/wiki/Composition_over_inheritance">"Composition over inheritance</a>.

–°—Ç—Ä—É–∫—Ç—É—Ä—ã SPL —è–≤–ª—è—é—Ç—Å—è —Ö–æ—Ä–æ—à–∏–º –ø—Ä–∏–º–µ—Ä–æ–º —Ç–æ–≥–æ, –∫–∞–∫ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –Ω–µ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, <code>SplStack</code> —Ä–∞—Å—à–∏—Ä—è–µ—Ç <code>SplDoublyLinkedList</code>, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É, <code>shift</code> –∏ <code>unshift</code> - —Ç–∞–∫ —á—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —ç—Ç–æ –Ω–µ <a href="https://ru.wikipedia.org/wiki/%D0%A1%D1%82%D0%B5%D0%BA">–°—Ç–µ–∫</a>.

–§—Ä–µ–π–º–≤–æ—Ä–∫ Java-–∫–æ–ª–ª–µ–∫—Ü–∏–π —Ç–∞–∫–∂–µ –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ—Ä–æ–∂–¥–∞–µ—Ç –¥–≤—É—Å–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç—å. <code>ArrayDeque</code> –∏–º–µ–µ—Ç —Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤: <code>add</code>, <code>addLast</code> –∏ <code>push</code>. –≠—Ç–æ –Ω–µ –ø–ª–æ—Ö–æ, —Ç.–∫. <code>ArrayDeque</code> –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç <code>Deque</code> –∏ <code>Queue</code>, —á—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –Ω–∞–ª–∏—á–∏–µ <code>addLast</code> –∏ <code>push</code>. –û–¥–Ω–∞–∫–æ, –≤—Å–µ —Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ —Å—Ä–∞–∑—É, –¥–µ–ª–∞—é—â–∏–µ –æ–¥–Ω–æ –∏ —Ç–æ–∂–µ, –≤—ã–∑—ã–≤–∞—é—Ç  –ø—É—Ç–∞–Ω–∏—Ü—É –∏ –Ω–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

–°—Ç–∞—Ä—ã–π <code>java.util.Stack</code> —Ä–∞—Å—à–∏—Ä—è–ª <code>java.util.Vector</code>, —Ç–µ–º —Å–∞–º—ã–º –∑–∞—è–≤–ª—è—è, —á—Ç–æ "–±–æ–ª–µ–µ –ø–æ–ª–Ω—ã–π –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π LIFO –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º <code>Deque</code> –∏ –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏", –Ω–æ <code>Deque</code> –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –º–µ—Ç–æ–¥—ã <code>addFirst</code> –∏ <code>remove(x)</code>, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∞—Å—Ç—å <code>stack</code> —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ API.

<h4>–ü—Ä–æ—Å—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ —ç—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–º–µ—é—Ç –Ω–µ–ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏–µ—Å—è –º–µ—Ç–æ–¥—ã –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –º—ã –Ω–µ –º–æ–∂–µ–º —Ç–∞–∫ –¥–µ–ª–∞—Ç—å.</h4>
–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, —ç—Ç–æ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ, –Ω–æ —è –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Å—á–∏—Ç–∞—é, —á—Ç–æ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –±–æ–ª—å—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –±—ã—Ç—å —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º–∏, –ø–æ–¥–æ–±–Ω–æ <code>array</code>. –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –æ—Ç–Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç <code>array</code>, –æ–Ω –≤—ã–Ω—É–∂–¥–∞–µ—Ç –≤–∞—Å —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ API –≤–æ–∫—Ä—É–≥ —Å–µ–±—è, –∏—Å–ø–æ–ª—å–∑—É—è –µ–≥–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ç–∞–∫–∂–µ –≤—ã–∑–≤–∞–ª–æ –±—ã –ª–∏—à–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

<h4>–ó–∞—á–µ–º –Ω—É–∂–µ–Ω –µ—â–µ –∏ <code>ds</code> –∫–ª–∞—Å—Å –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏–º–µ–Ω?</h4>
–û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:
<img src="https://habrastorage.org/files/8c7/7d6/06b/8c77d606b90f41c589e1b7427ada159c.gif"/>
<h4>–ü–æ—á–µ–º—É –Ω–µ—Ç —Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ <i>(Linked List)</i>?</h4> 
–ö–ª–∞—Å—Å <code>LinkedList</code> –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –ø–æ—è–≤–∏–ª—Å—è –ø–µ—Ä–≤—ã–º, —ç—Ç–æ –∫–∞–∑–∞–ª–æ—Å—å —Ö–æ—Ä–æ—à–∏–º —Å—Ç–∞—Ä—Ç–æ–º. –ù–æ –≤ –∏—Ç–æ–≥–µ —è —Ä–µ—à–∏–ª —É–¥–∞–ª–∏—Ç—å –µ–≥–æ, –∫–æ–≥–¥–∞ –ø–æ–Ω—è–ª, —á—Ç–æ –æ–Ω –Ω–µ —Å–º–æ–∂–µ—Ç –∫–æ–Ω–∫—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Å <code>Vector</code> –∏–ª–∏ <code>Deque</code> –ø—Ä–∏ –ª—é–±–æ–º —Ä–∞—Å–∫–ª–∞–¥–µ. –î–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –≤–æ–∑–º–æ–∂–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏: <b>—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤</b> –∏ <b>–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å —Å—Å—ã–ª–æ–∫</b>.

–í —Å–≤—è–∑–Ω–æ–º —Å–ø–∏—Å–∫–µ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –∏–ª–∏ —É–±–∏—Ä–∞–µ–º –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–∞–º—è—Ç—å –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã <i>(node)</i> –≤—Å—è–∫–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∏–ª–∏ —É–¥–∞–ª—è–µ—Ç—Å—è. –ù–æ–¥–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –¥–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è (–≤ —Å–ª—É—á–∞–µ —Å –¥–≤—É—Å–≤—è–∑–Ω—ã–º —Å–ø–∏—Å–∫–æ–º), —á—Ç–æ–±—ã —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é –∏ –ø–æ—Å–ª–µ–¥—É—é—â—É—é –Ω–æ–¥—ã. –û–±–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, <code>Vector</code> –∏ <code>Deque</code>, –≤—ã–¥–µ–ª—è—é—Ç –±—É—Ñ–µ—Ä –ø–∞–º—è—Ç–∏ –∑–∞—Ä–∞–Ω–µ–µ, –ø–æ—ç—Ç–æ–º—É –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–µ–ª–∞—Ç—å —ç—Ç–æ –Ω–∞—Å—Ç–æ–ª—å–∫–æ —á–∞—Å—Ç–æ. –û–Ω–∏ —Ç–∞–∫–∂–µ –Ω–µ –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª—è—Ö, —á—Ç–æ–±—ã –∑–Ω–∞—Ç—å –∫–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ –∏ –∫–∞–∫–æ–µ –ø–æ—Å–ª–µ, —Ç–µ–º —Å–∞–º—ã–º —Å–Ω–∏–∂–∞—é—Ç—Å—è –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã.

<h4>–ë—É–¥–µ—Ç –ª–∏ —Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, —Ç.–∫. —Ç–∞–º –Ω–µ—Ç –±—É—Ñ–µ—Ä–∞?</h4>
–¢–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—è –æ—á–µ–Ω—å –º–∞–ª–∞. –í–µ—Ä—Ö–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü–µ–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–∞–º—è—Ç–∏ –¥–ª—è <code>Vector</code> –±—É–¥–µ—Ç <code>(1.5 * (size - 1)) * zval</code> –±–∞–π—Ç, –Ω–µ –º–µ–Ω–µ–µ *10 * zval*. –í –¥–≤—É—Å–≤—è–∑–Ω–æ–º —Å–ø–∏—Å–∫–µ –∂–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è <code>(size * (zval + 8 + 8))</code>. –ü–æ—ç—Ç–æ–º—É —Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, —á–µ–º <code>Vector</code> —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –µ–≥–æ —Ä–∞–∑–º–µ—Ä –º–µ–Ω—å—à–µ 6 —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

<h4>–û–∫–µ–π... —Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏, –Ω–æ –ø–æ—á–µ–º—É –æ–Ω –º–µ–¥–ª–µ–Ω–Ω—ã–π?</h4>
–£–∑–ª—ã <i>—Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞</i> –æ–±–ª–∞–¥–∞—é—Ç –ø–ª–æ—Ö–æ–π <b><i>–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å</i></b>. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —É–∑–ª–∞ –≤ –ø–∞–º—è—Ç–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–∞–ª–µ–∫–æ –æ—Ç –ø—Ä–∏–ª–µ–≥–∞—é—â–∏—Ö —É–∑–ª–æ–≤. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ —Å–≤—è–∑–Ω–æ–º—É —Å–ø–∏—Å–∫—É —Å–∫–∞—á—É—Ç –ø–æ –ø–∞–º—è—Ç–∏ –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫—ç—à–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞. –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ <code>Vector</code> –∏ <code>Deque</code>: —ç–ª–µ–º–µ–Ω—Ç—ã —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Ä—è–¥–æ–º –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º.

<blockquote>"–ù–µ—Å–º–µ–∂–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö —è–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä–Ω–µ–º –≤—Å–µ—Ö –∑–æ–ª –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–∫–∞–∂–∏—Ç–µ –Ω–µ—Ç —Å–≤—è–∑–Ω—ã–º —Å–ø–∏—Å–∫–∞–º"
"–ù–µ—Ç –ø–æ—á—Ç–∏ –Ω–∏—á–µ–≥–æ –≤—Ä–µ–¥–Ω–µ–µ –∏–∑ —Ç–æ–≥–æ —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ–±—ã —É–±–∏—Ç—å –≤—Å–µ –ø–ª—é—Å—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–∏–∫—Ä–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤, —á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫"
‚Äî Chandler Carruth (<a href="https://youtu.be/fHNmRkzxHWs?t=34m42s">CppCon 2014</a>)</blockquote>
<h4>PHP - —ç—Ç–æ —è–∑—ã–∫ –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚Äî –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –≤–∞–∂–Ω–∞.</h4>
<b>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∞—à–∏–º –≥–ª–∞–≤–Ω—ã–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º</b>. –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º, —Ä–µ–º–æ–Ω—Ç–æ–ø—Ä–∏–≥–æ–¥–Ω—ã–º, –Ω–∞–¥–µ–∂–Ω—ã–º, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º, –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∏ –ª–µ–≥–∫–æ –ø–æ–Ω–∏–º–∞–µ–º—ã–º. –ù–æ —ç—Ç–æ –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å <i>"–Ω–µ –≤–∞–∂–Ω–∞"</i>.

–ú—ã —Ç—Ä–∞—Ç–∏–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –ø—ã—Ç–∞—è—Å—å —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Å–≤–æ–∏—Ö –∞—Å—Å–µ—Ç–æ–≤, –¥–µ–ª–∞–µ–º —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –∏ –ø—Ä–∏–¥—É–º—ã–≤–∞–µ–º –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –º–∏–∫—Ä–æ-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

<ul>
<li><a href="http://fabien.potencier.org/print-vs-echo-which-one-is-faster.html">print vs echo, which one is faster?</a></li>
<li><a href="http://fabien.potencier.org/the-php-ternary-operator-fast-or-not.html">The PHP Ternary Operator: Fast or not?</a></li>
<li><a href="http://www.phpbench.com/">The PHP Benchmark: setting the record straight</a></li>
<li><a href="https://nikic.github.io/2012/01/09/Disproving-the-Single-Quotes-Performance-Myth.html">Disproving the Single Quotes Performance Myth</a></li>
</ul>
–ù–æ –≤ –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ –¥–≤—É—Ö–∫—Ä–∞—Ç–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–æ—Å–∏—Ç —Å —Å–æ–±–æ–π PHP7 –ø–æ—á–µ–º—É-—Ç–æ –≤—Å–µ—Ö –≤–∑–±—É–¥–æ—Ä–∞–∂–∏–ª. –ê–±—Å–æ–ª—é—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö —ç—Ç–æ - –æ–¥–Ω–æ –∏–∑ –≥–ª–∞–≤–Ω—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ —Å PHP5.

–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∫–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –Ω–∞—à–∏ —Å–µ—Ä–≤–µ—Ä–∞. —É–º–µ–Ω—å—à–∏—Ç—å –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞—à–∏—Ö API –∏ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü –∏ —Å–Ω–∏–∂–∞–µ—Ç –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –Ω–∞—à–∏—Ö —É—Ç–∏–ª–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. <b>–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–∞</b>, –Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞ –≤—Å–µ –∂–µ —Å—Ç–æ–∏—Ç –≤–æ –≥–ª–∞–≤–µ.
<hr/>
üí¨ <b>–û–±—Å—É–∂–¥–µ–Ω–∏—è</b>: <a href="https://twitter.com/rudi_theunissen">Twitter</a>, <a href="https://www.reddit.com/r/PHP/comments/44qsco/efficient_data_structures_for_php_7/">Reddit</a>, <a href="http://chat.stackoverflow.com/rooms/11/php">Room 11</a>
üîé <b>–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥</b>: <a href="https://github.com/php-ds">github.com/php-ds</a>
üìä <b>–ë–µ–Ω—á–º–∞—Ä–∫–∏:</b> <a href="https://github.com/php-ds/benchmarks">github.com/php-ds/benchmarks</a>